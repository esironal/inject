(function(a,c,b){if(typeof module!="undefined"&&module.exports){module.exports=c()}else{if(typeof b.define!="undefined"&&b.define=="function"&&b.define["amd"]){define(a,c)}else{b[a]=c()}}})("inject",function(){var h=false,c=h,a=1,b;function i(){if(!--a){b&&b()}}function e(m,l){var f=h;var k=document.createElement("script");k.onload=k.onerror=k.onreadystatechange=function(){if(f){return}k.onload=k.onreadystatechange=null;f=1;l()};k.async=!0;var j=/\.js$/.test(m)?m:m+".js";k.src=j;document.getElementsByTagName("head")[0].appendChild(k)}function d(f){this.curr=this.root=new g(f)}d.prototype.then=function(f){this.curr=this.curr.child(f);a++;return this};d.prototype.ready=function(f){b=f;this.root.exec(i)};function g(f){this._scripts=[f];this._next=null}g.prototype.child=function(f){return this._next=new g(f)};g.prototype.exec=function(j){var f=this._scripts.length,m=0,k=this;function n(o,p){return function(){e(p,i);if(++m==f){if(k._next){k._next.exec(j)}}}}for(var l=0;l<f;l++){n(l,this._scripts[l])()}};return function(f){return new d(f)}},this);